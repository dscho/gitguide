<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>An Illustrated Guide to Git on Windows</title>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<h1>An Illustrated Guide to Git on Windows</h1>

		<h2 id="history">Viewing History</h2>

		<p>The <span class="tt">main.c</span> file is starting to get a
		bit big, so I decided to move the user prompting portion of the
		code into its own function.  While I was at it, I decided to
		move the function into a separate file. The
		repository now contains the files <span
			class="tt">main.c</span>, <span class="tt">askname.c</span>,
		and <span class="tt">askname.h</span>.</p>

		<pre>
/* main.c */
#include &lt;stdio.h&gt;

#include "askname.h"

int main(int argc, char **argv)
{
	char first[255], last[255];

	askname(first, last);

	printf("Hello, %s %s!\n", first, last);
 	return 0;
}
</pre>

		<pre>
/* askname.c */
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

void askname(char *first, char *last)
{
	printf("Enter your first name: ");
	fgets(first, 255, stdin);
	first[strlen(first)-1] = '\0'; /* remove the newline at the end */

	printf("Now enter your last name: ");
	gets(last); /* buffer overflow? what's that? */
}
</pre>

		<pre>
/* askname.h */
void askname(char *first, char *last);
</pre>

		<p><img src="images/23.png" /></p>

		<p>The history of the repository can be viewed and searched by
		choosing <i>Repository &rarr; Visualize All Branch History</i>.
		In the next screenshot, I am trying to find which commit added
		the <span class="tt">last</span> variable by searching for all
		commits which added or removed the word <em>last</em>. Commits
		which match the search are bolded, making it quick and easy to
		spot the desired commit.</p>

		<p><img src="images/27.png" /></p>

		<p>A few days later, someone looks through our code and sees
		that the <span class="tt">gets</span> function could cause a
		buffer overflow.  Being the type to point fingers, this person
		decides to run a git blame to see who last modified this line of
		code. The problem is that Bob is the one who committed the line,
		but I was the one who last touched it when I moved the line into
		a different file.  Obviously, I am not to blame (of course). Is
		git smart enough to figure this out? Yes, it is.</p>
		
		<p>To run a blame, select <i>Repository &rarr; Browse master's
			Files</i>. From the tree that pops up, double click on the
		file with the line in question which in this case is <span
			class="tt">askname.c</span>.
		Hovering the mouse over the line in question shows a tooltip
		message that tells us all we need to know.</p>

		<p><img src="images/24.png" /></p>

		<p>Here we can see that the line was last modified by Bob in
		commit <span class="tt">f6c0</span>, and then I moved it to its
		new location in commit <span class="tt">b312</span>.

<hr />
<table class="nav">
<tr>
<td class="left">
<a id="back" href="merging.html">&laquo; Merging</a>
</td>
<td class="up">
<a id="up" href="index.html">Index</a>
</td>
<td class="next">
<a id="next" href="pushing.html">Pushing to a Remote Server &raquo;</a>
</td>
</tr>
</table>
	</body>
</html>

